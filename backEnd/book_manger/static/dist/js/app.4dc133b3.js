(function(){"use strict";var t={808:function(t,e,o){var n=o(6848),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("NavBar"),e("router-view")],1)},i=[],s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"nav-bar"}},[e("router-link",{attrs:{to:"/books",id:"books-link"}},[e("h1",[t._v("ABC BOOK MODEL")])]),e("div",{attrs:{id:"addbook-link"}},[e("router-link",{attrs:{to:"/books/v/add"}},[e("button",[t._v("Add Book")])]),e("router-link",{attrs:{to:"/books"}},[e("button",[t._v("List Books")])])],1)],1)},a=[],u={name:"NavBar"},d=u,l=o(1656),p=(0,l.A)(d,s,a,!1,null,"0301c917",null),c=p.exports,v={name:"App",components:{NavBar:c}},h=v,g=(0,l.A)(h,r,i,!1,null,null,null),m=g.exports,b=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"page-wrap"}},[e("books-grid",{attrs:{books:t.books}}),t.ErrorMsg?e("p",[t._v(" "+t._s(t.ErrorMsg))]):t._e()],1)},k=[],f=o(4373),_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"grid-wrap"},t._l(t.books,(function(t){return e("books-grid-item",{key:t.id,attrs:{book:t}})})),1)},B=[],y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"book-item"},[e("img",{attrs:{src:o(9634)}}),e("h3",{staticClass:"book-name"},[t._v(t._s(t.book.title))]),e("p",{staticClass:"book-author"},[t._v(" By: "+t._s(t.book.author))]),e("router-link",{attrs:{to:"/books/"+t.book._id}},[e("button",[t._v("More Details")])])],1)},A=[],x={name:"BookGridItem",props:["book"]},w=x,P=(0,l.A)(w,y,A,!1,null,"150f3272",null),N=P.exports,$={name:"BooksGrid",props:["books"],components:{BooksGridItem:N}},O=$,E=(0,l.A)(O,_,B,!1,null,"4cfca4d8",null),M=E.exports,C={name:"BooksPage",components:{BooksGrid:M},data(){return{books:[],ErrorMsg:""}},async created(){try{const t=await f.A.get("http://localhost:8000/api/books/"),e=t.data;this.books=e}catch(t){t.response?this.ErrorMsg=t.response.data:t.request?this.ErrorMsg=`No response received: ${t.request}`:this.ErrorMsg=`Error: ${t.message}`}}},D=C,S=(0,l.A)(D,b,k,!1,null,"27a2d190",null),j=S.exports,F=function(){var t=this,e=t._self._c;return t.book?e("div",{attrs:{id:"page-wrap"}},[e("div",{attrs:{id:"book-details"}},[e("h1",[t._v(" "+t._s(t.book.title)+" ")]),e("h3",{attrs:{id:"author"}},[t._v("Author: "+t._s(t.book.author)+" ")]),e("p",[t._v("Published Date: "+t._s(t.book.published_date))]),e("p",[t._v("ISBN: "+t._s(t.book.isbn))]),e("p",[t._v("Genre: "+t._s(t.book.genre))]),t.editingBook?t._e():e("button",{on:{click:function(e){return t.editBook(t.book)}}},[t._v("Update")]),e("button",{on:{click:function(e){return t.deleteBook(t.book._id)}}},[t._v("Delete")])]),t.editingBook?e("div",[e("h1",[t._v("Update "+t._s(t.editingBook.title))]),e("form",{on:{submit:function(e){return e.preventDefault(),t.updateBook.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editingBook.title,expression:"editingBook.title"}],attrs:{type:"text",placeholder:"Titel"},domProps:{value:t.editingBook.title},on:{input:function(e){e.target.composing||t.$set(t.editingBook,"title",e.target.value)}}}),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editingBook.author,expression:"editingBook.author"}],attrs:{type:"text",placeholder:"Author"},domProps:{value:t.editingBook.author},on:{input:function(e){e.target.composing||t.$set(t.editingBook,"author",e.target.value)}}}),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editingBook.published_date,expression:"editingBook.published_date"}],attrs:{type:"text",placeholder:"Publish Date"},domProps:{value:t.editingBook.published_date},on:{input:function(e){e.target.composing||t.$set(t.editingBook,"published_date",e.target.value)}}}),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editingBook.isbn,expression:"editingBook.isbn"}],attrs:{type:"text",placeholder:"ISBN"},domProps:{value:t.editingBook.isbn},on:{input:function(e){e.target.composing||t.$set(t.editingBook,"isbn",e.target.value)}}}),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editingBook.genre,expression:"editingBook.genre"}],attrs:{type:"text",placeholder:"Genre"},domProps:{value:t.editingBook.genre},on:{input:function(e){e.target.composing||t.$set(t.editingBook,"genre",e.target.value)}}}),e("br"),e("button",{on:{click:function(e){return t.updateBook(t.book._id)}}},[t._v("Update")])]),t.msg?e("p",[t._v(" "+t._s(t.msg)+" ")]):t._e()]):t._e()]):e("not-found-page")},G=[],T=(o(4114),function(){var t=this,e=t._self._c;return e("h1",[t._v(" 404: Page Not Found")])}),q=[],I={name:"NotFountPage"},U=I,H=(0,l.A)(U,T,q,!1,null,"10f800b4",null),L=H.exports,K={components:{NotFoundPage:L},name:"BookDetailPage",data(){return{book:{},newBook:{title:"",author:"",published_date:"",isbn:"",genre:""},editingBook:null,msg:""}},methods:{async fetchBook(){try{const t=await f.A.get(`http://localhost:8000/api/books/${this.$route.params.id}/`),e=t.data;this.book=e}catch(t){t.response?this.msg=t.response.data:t.request?this.msg=`No response received: ${t.request}`:this.msg=`Error: ${t.message}`}},editBook(t){this.editingBook={...t}},updateBook(){f.A.put(`http://127.0.0.1:8000/api/books/${this.editingBook._id}/`,this.editingBook).then((()=>{this.fetchBook(),this.editingBook=null})).catch((t=>{t.response&&(this.msg=t.response.data)}))},async deleteBook(){try{await f.A.delete(`http://localhost:8000/api/books/${this.$route.params.id}/`);this.$router.push("/books")}catch(t){t.response?this.msg=t.response.data:t.request?this.msg=`No response received: ${t.request}`:this.msg=`Error: ${t.message}`}}},async created(){this.fetchBook()}},R=K,z=(0,l.A)(R,F,G,!1,null,"74865972",null),J=z.exports,Q=o(6178),V=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"page-wrap"}},[e("h1",[t._v("Add Book")]),e("div",[e("form",{on:{submit:function(e){return e.preventDefault(),t.addBook.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"Titel"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.author,expression:"author"}],attrs:{type:"text",placeholder:"Author"},domProps:{value:t.author},on:{input:function(e){e.target.composing||(t.author=e.target.value)}}}),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.published_date,expression:"published_date"}],attrs:{type:"text",placeholder:"Publish Date"},domProps:{value:t.published_date},on:{input:function(e){e.target.composing||(t.published_date=e.target.value)}}}),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.isbn,expression:"isbn"}],attrs:{type:"text",placeholder:"ISBN"},domProps:{value:t.isbn},on:{input:function(e){e.target.composing||(t.isbn=e.target.value)}}}),e("br"),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?o:o[0]}}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Genre")]),e("option",[t._v("Fantasy")]),e("option",[t._v("Science fiction")]),e("option",[t._v("Historical Fiction")]),e("option",[t._v("Horror")]),e("option",[t._v("Mystery")]),e("option",[t._v("Romance")])]),e("button",[t._v("Add")])]),t.msg?e("p",[t._v(t._s(t.msg))]):t._e()])])},W=[],X={name:"AddBookPage",data(){return{title:"",author:"",published_date:"",isbn:"",selected:"",msg:""}},methods:{async addBook(){try{await f.A.post("http://localhost:8000/api/books/",{title:this.title,author:this.author,published_date:this.published_date,isbn:this.isbn,genre:this.selected});alert("Book Added"),this.$router.push("/books")}catch(t){t.response?this.msg=t.response.data.message||"Adding Failed":this.msg="Error during add book"}}}},Y=X,Z=(0,l.A)(Y,V,W,!1,null,"a7f3daa8",null),tt=Z.exports;n.Ay.use(Q.Ay);const et=[{path:"/books",name:"BooksPage",component:j},{path:"/books/:id",name:"BookDetailPage",component:J},{path:"/books/v/add",name:"AddBookPage",component:tt},{path:"*",component:L}],ot=new Q.Ay({mode:"history",base:"/CodeChallenge/",routes:et});var nt=ot,rt=o(3518);n.Ay.use(rt.Ay);var it=new rt.Ay.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});n.Ay.config.productionTip=!1,new n.Ay({router:nt,store:it,render:t=>t(m)}).$mount("#app")},9634:function(t,e,o){t.exports=o.p+"img/4.2d86533c.jpg"}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,n,r,i){if(!n){var s=1/0;for(l=0;l<t.length;l++){n=t[l][0],r=t[l][1],i=t[l][2];for(var a=!0,u=0;u<n.length;u++)(!1&i||s>=i)&&Object.keys(o.O).every((function(t){return o.O[t](n[u])}))?n.splice(u--,1):(a=!1,i<s&&(s=i));if(a){t.splice(l--,1);var d=r();void 0!==d&&(e=d)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[n,r,i]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/CodeChallenge/"}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,i,s=n[0],a=n[1],u=n[2],d=0;if(s.some((function(e){return 0!==t[e]}))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(u)var l=u(o)}for(e&&e(n);d<s.length;d++)i=s[d],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(l)},n=self["webpackChunkbcc_frontend"]=self["webpackChunkbcc_frontend"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(808)}));n=o.O(n)})();
//# sourceMappingURL=app.4dc133b3.js.map